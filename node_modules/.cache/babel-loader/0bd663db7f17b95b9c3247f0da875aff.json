{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\views\\Home.vue","mtime":1605374709652},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBDb250cmlidXRpb24gZnJvbSAnQC9jb21wb25lbnRzL0NvbnRyaWJ1dGlvbi52dWUnOwppbXBvcnQgUmVzdGF1cmFudENhcmQgZnJvbSAnQC9jb21wb25lbnRzL1Jlc3RhdXJhbnRDYXJkLnZ1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50czogewogICAgQ29udHJpYnV0aW9uOiBDb250cmlidXRpb24sCiAgICBSZXN0YXVyYW50Q2FyZDogUmVzdGF1cmFudENhcmQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzbGlkZTogMCwKICAgICAgc2xpZGluZzogbnVsbCwKICAgICAgYWRkcmVzczogJycsCiAgICAgIGxvY2F0aW9uOiAnJywKICAgICAgcmVzdGF1cmFudDoge30sCiAgICAgIG1zZzogJ1RoZXJlIGFyZSBubyByZXN0YXVyYW50cyBuZWFyIHlvdS4nLAogICAgICBlcnJvcjogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyBWdWUtYnJvd3Nlci1nZW9sb2NhdGlvbiBucG0KICAgIHRoaXMuJGdldExvY2F0aW9uKCkudGhlbihmdW5jdGlvbiAoY29vcmRpbmF0ZXMpIHsKICAgICAgLy8gUmVmZXJyZWQgdG8gaHR0cHM6Ly9zb2Z0YXV0aG9yLmNvbS92dWVqcy1nZW9sb2NhdGlvbi1nZXQtdXNlci1sb2NhdGlvbi8KICAgICAgYXhpb3MuZ2V0KCdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uP2xhdGxuZz0nICsgY29vcmRpbmF0ZXMubGF0ICsgJywnICsgY29vcmRpbmF0ZXMubG5nICsgJyZrZXk9QUl6YVN5Q1ktSkx6UlhkdVFGZHJmbHBqZW5HZF9zNThMaWxVclFVJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JfbWVzc2FnZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZXJyb3JfbWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmFkZHJlc3MgPSByZXNwb25zZS5kYXRhLnJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3M7CiAgICAgICAgICB2YXIgY3VycmVudExvY2F0aW9uID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmFkZHJlc3NfY29tcG9uZW50c1syXS5sb25nX25hbWU7CgogICAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiA9PT0gJ0Rvd250b3duIENvcmUnKSB7CiAgICAgICAgICAgIC8vIEdvb2dsZSBtYXAgcmVjb3JkcyBjZW50cmFsIGFyZWEgYXMgRG93bnRvd24gQ29yZQogICAgICAgICAgICBfdGhpcy5sb2NhdGlvbiA9ICdyZWdpb24vY2VudHJhbCc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5sb2NhdGlvbiA9ICdsb2NhdGlvbi8nICsgY3VycmVudExvY2F0aW9uOwogICAgICAgICAgfQoKICAgICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly93YWQyLWhhbGxhbGxpbm9uZS5ldC5yLmFwcHNwb3QuY29tL3Jlc3RhdXJhbnQvc2VhcmNoLycgKyBfdGhpcy5sb2NhdGlvbikudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBfdGhpcy5yZXN0YXVyYW50ID0gZGF0YS5kYXRhLlJlc3RhdXJhbnQ7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgICAgICBfdGhpcy5tc2cgPSAnVW5hYmxlIHRvIGdldCByZXN0YXVyYW50cy4nOwogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkFQSSAiLmNvbmNhdChlcnJvcikpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb25TbGlkZVN0YXJ0OiBmdW5jdGlvbiBvblNsaWRlU3RhcnQoc2xpZGUpIHsKICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTsKICAgIH0sCiAgICBvblNsaWRlRW5kOiBmdW5jdGlvbiBvblNsaWRlRW5kKHNsaWRlKSB7CiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA,OAAA,YAAA,MAAA,+BAAA;AACA,OAAA,cAAA,MAAA,iCAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,cAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CADA;AAEA,MAAA,OAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,UAAA,EAAA,EALA;AAMA,MAAA,GAAA,EAAA,oCANA;AAOA,MAAA,KAAA,EAAA;AAPA,KAAA;AASA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA;AACA,SAAA,YAAA,GACA,IADA,CACA,UAAA,WAAA,EAAA;AACA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,8DAAA,WAAA,CAAA,GAAA,GAAA,GAAA,GAAA,WAAA,CAAA,GAAA,GAAA,8CAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,aAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,aAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,EAAA,iBAAA;AACA,cAAA,eAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,EAAA,kBAAA,CAAA,CAAA,EAAA,SAAA;;AACA,cAAA,eAAA,KAAA,eAAA,EAAA;AAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,gBAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,cAAA,eAAA;AACA;;AACA,UAAA,KAAA,CAAA,GAAA,CAAA,kEAAA,KAAA,CAAA,QAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,UAAA;AACA,WAHA,EAGA,KAHA,CAGA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,YAAA,KAAA,CAAA,GAAA,GAAA,4BAAA;AACA,kBAAA,IAAA,KAAA,eAAA,KAAA,EAAA;AACA,WAPA;AAQA;AACA,OArBA;AAsBA,KAzBA;AA0BA,GA7CA;AA8CA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,wBACA,KADA,EACA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,UAJA,sBAIA,KAJA,EAIA;AACA,WAAA,OAAA,GAAA,KAAA;AACA;AANA;AA9CA,CAAA","sourcesContent":["<template>\r\n  <b-row class=\"home\">\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n    <b-col>\r\n      <div class=\"carousel-section\">\r\n        <b-carousel id=\"carousel-1\" v-model=\"slide\" :interval=\"6000\" controls indicators variant=\"dark\"\r\n          style=\"text-shadow: 2px 2px 2px #2c3e50;\" @sliding-start=\"onSlideStart\" @sliding-end=\"onSlideEnd\">\r\n          <!-- 1. Slides with custom text -->\r\n          <!-- Note the classes .d-block and .img-fluid to prevent browser default image alignment -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/halal_corner_front.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>The Halal Corner</h1>\r\n              <p>Formerly known as Asyraf's Halal Corner, The Halal Corner is located in Bedok. Bringing you quality halal Western fusion dishes.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n\r\n          <!-- 2. Slides with custom text -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/The_Straits_Teppanyaki.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>The Straits Teppanyaki</h1>\r\n              <p>The new restaurant focuses on Asian and Western cuisines cooked and grilled on a hot metal plate, using the Japanese Teppanyaki method and style of cooking.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n\r\n          <!-- 3. Slides with custom text -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/Rumi_The_Poets_Cup.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>Rumi The Poets Cup</h1>\r\n              <p>The beverage brand is known for their artisanal drinks that come with special poetry notes. Rumiâ€™s drinks are categorized largely into three main categories: The Dairy Collezione, The Mocktails and The Frizantea.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n        </b-carousel>\r\n      </div>\r\n      <!-- Restaurants populate based on current location -->\r\n      <div style=\"margin-top: 20px;\">\r\n        <h1 class=\"text-center\">Restaurants Near You</h1>\r\n        <h6 class=\"text-center\">Current Location: {{ address }}</h6>\r\n        <!-- <div class=\"text-right\">View filter buttons</div> -->\r\n        <div class=\"content\">\r\n          <!-- Checks if there's restaurant data then show this || isEmpty(restaurant)-->\r\n          <span v-if=\"restaurant != undefined && !error\">\r\n            <span v-show=\"restaurant === {}\"><b-icon icon=\"arrow-clockwise\" animation=\"spin\" font-scale=\"4\" variant=\"success\"></b-icon></span>\r\n            <b-card-group deck class=\"justify-content-center\">\r\n              <span v-for=\"store in restaurant\" :key=\"store.id\">\r\n                <RestaurantCard :id=\"store.rid\" :stall=\"store\" />\r\n              </span>\r\n            </b-card-group>\r\n          </span>\r\n          <!-- There's no restaurant data so show this -->\r\n          <div v-else style=\"text-align: center;\">\r\n            <img src=\"../assets/questionmark.png\">\r\n            <h2>{{ msg }}</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Contribution />\r\n    </b-col>\r\n    <b-col sm=\"0\" md=\"2\" class=\"green\"></b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport Contribution from '@/components/Contribution.vue'\r\nimport RestaurantCard from '@/components/RestaurantCard.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    Contribution,\r\n    RestaurantCard\r\n  },\r\n  data () {\r\n    return {\r\n      slide: 0,\r\n      sliding: null,\r\n      address: '',\r\n      location: '',\r\n      restaurant: {},\r\n      msg: 'There are no restaurants near you.',\r\n      error: false\r\n    }\r\n  },\r\n  created () {\r\n    // Vue-browser-geolocation npm\r\n    this.$getLocation()\r\n      .then(coordinates => {\r\n        // Referred to https://softauthor.com/vuejs-geolocation-get-user-location/\r\n        axios.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + coordinates.lat + ',' + coordinates.lng + '&key=AIzaSyCY-JLzRXduQFdrflpjenGd_s58LilUrQU'\r\n        ).then(response => {\r\n          if (response.error_message) {\r\n            console.log(response.error_message)\r\n          } else {\r\n            this.address = response.data.results[0].formatted_address\r\n            var currentLocation = response.data.results[0].address_components[2].long_name\r\n            if (currentLocation === 'Downtown Core') { // Google map records central area as Downtown Core\r\n              this.location = 'region/central'\r\n            } else {\r\n              this.location = 'location/' + currentLocation\r\n            }\r\n            axios.get('https://wad2-hallallinone.et.r.appspot.com/restaurant/search/' + this.location\r\n            ).then(data => {\r\n              this.restaurant = data.data.Restaurant\r\n            }).catch(error => {\r\n              this.error = true\r\n              this.msg = 'Unable to get restaurants.'\r\n              throw new Error(`API ${error}`)\r\n            })\r\n          }\r\n        })\r\n      })\r\n  },\r\n  methods: {\r\n    onSlideStart (slide) {\r\n      this.sliding = true\r\n    },\r\n    onSlideEnd (slide) {\r\n      this.sliding = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views"}]}