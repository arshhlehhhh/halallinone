{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\mixins\\loginMixin.js","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\mixins\\loginMixin.js","mtime":1605374709530},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWVTZXNzaW9uIGZyb20gJ3Z1ZS1zZXNzaW9uJzsKVnVlLnVzZShWdWVTZXNzaW9uKTsKZXhwb3J0IHZhciBsb2dpbk1peGluID0gewogIG5hbWU6ICdsb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dNb2RhbDogdHJ1ZSwKICAgICAgbG9naW46IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJlZ2lzdGVyOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgbG9nTmFtZTogbnVsbCwKICAgICAgc3VjY2VzczogZmFsc2UsCiAgICAgIHJvbGU6IG51bGwsCiAgICAgIGNoZWNrVXNlcjogZmFsc2UsCiAgICAgIGVycm9yOiAnJywKICAgICAgdGVzdDogdGhpcy4kc2Vzc2lvbi5nZXQoJ3VzZXJuYW1lJykKICAgIH07CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIGlmICghdGhpcy4kc2Vzc2lvbi5leGlzdHMoKSkgey8vIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhpZGVNb2RhbDogZnVuY3Rpb24gaGlkZU1vZGFsKGlkKSB7CiAgICAgIHRoaXMuJHJvb3QuJGVtaXQoJ2J2OjpoaWRlOjptb2RhbCcsIGlkKTsKICAgIH0sCiAgICBMb2dJbjogZnVuY3Rpb24gTG9nSW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3J5cHRvT2JqZWN0ID0gVnVlLkNyeXB0b0pTLlNIQTI1Nih0aGlzLmxvZ2luLnBhc3N3b3JkKS50b1N0cmluZygpOwogICAgICB2YXIgYXV0aCA9IHsKICAgICAgICB1c2VybmFtZTogdGhpcy5sb2dpbi51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogY3J5cHRvT2JqZWN0CiAgICAgIH07IC8vIGNvbnN0IGF1dGhKc29uID0gSlNPTi5zdHJpbmdpZnkoYXV0aCkKCiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly93YWQyLWhhbGxhbGxpbm9uZS5ldC5yLmFwcHNwb3QuY29tL3VzZXIvYXV0aGVudGljYXRlJzsKICAgICAgYXhpb3MucG9zdCh1cmwsIGF1dGgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICBfdGhpcy4kc2Vzc2lvbi5zdGFydCgpOwoKICAgICAgICAgIF90aGlzLiRzZXNzaW9uLnNldCgnand0JywgcmVzcG9uc2UuZGF0YS50b2tlbik7CgogICAgICAgICAgX3RoaXMuJHNlc3Npb24uc2V0KCd1c2VybmFtZScsIHJlc3BvbnNlLmRhdGEudXNlcm5hbWUpOwoKICAgICAgICAgIF90aGlzLiRzZXNzaW9uLnNldCgnZW1haWwnLCByZXNwb25zZS5kYXRhLmVtYWlsKTsKCiAgICAgICAgICBfdGhpcy4kc2Vzc2lvbi5zZXQoJ3JvbGVfaWQnLCByZXNwb25zZS5kYXRhLnJvbGVfaWQpOwoKICAgICAgICAgIF90aGlzLmxvZ05hbWUgPSBfdGhpcy4kc2Vzc2lvbi5nZXQoJ3VzZXJuYW1lJyk7CiAgICAgICAgICBfdGhpcy5yb2xlID0gX3RoaXMuJHNlc3Npb24uZ2V0KCdyb2xlX2lkJyk7CiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgcmVzcG9uc2UuZGF0YS50b2tlbjsKCiAgICAgICAgICBfdGhpcy5oaWRlTW9kYWwoJ215LW1vZGFsJyk7CgogICAgICAgICAgX3RoaXMuc3VjY2VzcyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgaWYgKGVyci5yZXNwb25zZS5zdGF0dXMgPT09IDQwNSkgewogICAgICAgICAgX3RoaXMuZXJyb3IgPSAnWW91IG1pZ2h0IGhhdmUgZW50ZXJlZCB0aGUgd3JvbmcgcGFzc3dvcmQgb3IgdXNlcm5hbWUuIFBsZWFzZSB0cnkgYWdhaW4hJzsgLy8gY29uc29sZS5sb2codGhpcy5lcnJvcikKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gdGhpcy4kc2Vzc2lvbi5leGlzdHMoKTsKICAgIH0sCiAgICBMb2dPdXQ6IGZ1bmN0aW9uIExvZ091dCgpIHsKICAgICAgLy8gc2Vzc3Npb24KICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7CiAgICAgIHRoaXMuc3VjY2VzcyA9IGZhbHNlOwogICAgICB0aGlzLmhpZGVNb2RhbCgnbXktbW9kYWwnKTsKICAgICAgdGhpcy5sb2dpbi51c2VybmFtZSA9ICcnOwogICAgICB0aGlzLmxvZ2luLnBhc3N3b3JkID0gJyc7CiAgICAgIHRoaXMuZXJyb3IgPSAnJzsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgnYnY6OnNob3c6Om1vZGFsJywgJ2xvZ291dFN1Y2Nlc3MtbW9kYWwnLCAnI2J0blN1Y2VzcycpOwogICAgICByZXR1cm4gdGhpcy4kc2Vzc2lvbi5leGlzdHMoKTsKICAgIH0sCiAgICBSZWdpc3RlcjogZnVuY3Rpb24gUmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHVybFVzZXJOYW1lID0gJ2h0dHBzOi8vd2FkMi1oYWxsYWxsaW5vbmUuZXQuci5hcHBzcG90LmNvbS91c2VyL2dldC91c2VybmFtZT0nICsgdGhpcy5yZWdpc3Rlci51c2VybmFtZTsKICAgICAgdmFyIHVybFVzZXJFbWFpbCA9ICdodHRwczovL3dhZDItaGFsbGFsbGlub25lLmV0LnIuYXBwc3BvdC5jb20vdXNlci9nZXQvZW1haWw9JyArIHRoaXMucmVnaXN0ZXIuZW1haWw7CiAgICAgIHZhciBVc2VyU3RhdHVzID0gYXhpb3MuZ2V0KHVybFVzZXJOYW1lKTsKCiAgICAgIGlmIChVc2VyU3RhdHVzLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgdGhpcy5jaGVja1VzZXIgPSB0cnVlOwogICAgICB9CgogICAgICB2YXIgVXNlckVtYWlsID0gYXhpb3MuZ2V0KHVybFVzZXJFbWFpbCk7CgogICAgICBpZiAoVXNlckVtYWlsLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgdGhpcy5jaGVja1VzZXIgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAodGhpcy5jaGVja1VzZXIpIHsKICAgICAgICB0aGlzLnJvbGUgPSAnVXNlcic7CiAgICAgICAgdmFyIGNyeXB0b09iamVjdCA9IFZ1ZS5DcnlwdG9KUy5TSEEyNTYodGhpcy5yZWdpc3Rlci5wYXNzd29yZCkudG9TdHJpbmcoKTsKICAgICAgICB2YXIgYXV0aCA9IHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnJlZ2lzdGVyLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IGNyeXB0b09iamVjdCwKICAgICAgICAgIGVtYWlsOiB0aGlzLnJlZ2lzdGVyLmVtYWlsLAogICAgICAgICAgcm9sZV9pZDogdGhpcy5yb2xlCiAgICAgICAgfTsKICAgICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vd2FkMi1oYWxsYWxsaW5vbmUuZXQuci5hcHBzcG90LmNvbS91c2VyL2FkZCc7CiAgICAgICAgYXhpb3MucG9zdCh1cmwsIGF1dGgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zdGF0dXMpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICBfdGhpczIuJHNlc3Npb24uc3RhcnQoKTsKCiAgICAgICAgICAgIF90aGlzMi4kc2Vzc2lvbi5zZXQoJ2p3dCcsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwoKICAgICAgICAgICAgX3RoaXMyLiRzZXNzaW9uLnNldCgndXNlcm5hbWUnLCByZXNwb25zZS5kYXRhLnVzZXJuYW1lKTsKCiAgICAgICAgICAgIF90aGlzMi4kc2Vzc2lvbi5zZXQoJ2VtYWlsJywgcmVzcG9uc2UuZGF0YS5lbWFpbCk7CgogICAgICAgICAgICBfdGhpczIuJHNlc3Npb24uc2V0KCdyb2xlX2lkJywgcmVzcG9uc2UuZGF0YS5yb2xlX2lkKTsKCiAgICAgICAgICAgIF90aGlzMi5sb2dOYW1lID0gX3RoaXMyLiRzZXNzaW9uLmdldCgndXNlcm5hbWUnKTsKICAgICAgICAgICAgX3RoaXMyLnJvbGUgPSBfdGhpczIuJHNlc3Npb24uZ2V0KCdyb2xlX2lkJyk7CiAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyByZXNwb25zZS5kYXRhLnRva2VuOwoKICAgICAgICAgICAgX3RoaXMyLmhpZGVNb2RhbCgnbXktbW9kYWwnKTsKCiAgICAgICAgICAgIF90aGlzMi5zdWNjZXNzID0gdHJ1ZTsgLy8gdGhpcy5yb2xlID0gJycKICAgICAgICAgIH0KICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc3RhcnQ6IGZ1bmN0aW9uIHJlc3RhcnQoKSB7CiAgICAgIHRoaXMubG9naW4udXNlcm5hbWUgPSAnJzsKICAgICAgdGhpcy5sb2dpbi5wYXNzd29yZCA9ICcnOwogICAgICB0aGlzLnJlZ2lzdGVyLnVzZXJuYW1lID0gJyc7CiAgICAgIHRoaXMucmVnaXN0ZXIuZW1haWwgPSAnJzsKICAgICAgdGhpcy5yZWdpc3Rlci5wYXNzd29yZCA9ICcnOwogICAgICB0aGlzLmVycm9yID0gJyc7CiAgICAgIHRoaXMuaGlkZU1vZGFsKCdteS1tb2RhbCcpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/Ashley Lau/Documents/GitHub/halallinone-prod/src/mixins/loginMixin.js"],"names":["Vue","axios","VueSession","use","loginMixin","name","data","showModal","login","username","password","register","email","logName","success","role","checkUser","error","test","$session","get","beforeCreate","exists","methods","hideModal","id","$root","$emit","LogIn","cryptoObject","CryptoJS","SHA256","toString","auth","url","post","then","response","status","start","set","token","role_id","defaults","headers","common","Authorization","catch","err","LogOut","destroy","Register","urlUserName","urlUserEmail","UserStatus","UserEmail","console","log","restart"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport axios from 'axios'\r\nimport VueSession from 'vue-session'\r\nVue.use(VueSession)\r\n\r\nexport const loginMixin = {\r\n  name: 'login',\r\n  data: function () {\r\n    return {\r\n      showModal: true,\r\n      login: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      register: {\r\n        username: '',\r\n        email: '',\r\n        password: ''\r\n      },\r\n      logName: null,\r\n      success: false,\r\n      role: null,\r\n      checkUser: false,\r\n      error: '',\r\n      test: this.$session.get('username')\r\n    }\r\n  },\r\n  beforeCreate: function () {\r\n    if (!this.$session.exists()) {\r\n      // this.$router.push('/')\r\n    }\r\n  },\r\n  methods: {\r\n    hideModal (id) {\r\n      this.$root.$emit('bv::hide::modal', id)\r\n    },\r\n    LogIn () {\r\n      var cryptoObject = Vue.CryptoJS.SHA256(this.login.password).toString()\r\n      const auth = { username: this.login.username, password: cryptoObject }\r\n      // const authJson = JSON.stringify(auth)\r\n      const url = 'https://wad2-hallallinone.et.r.appspot.com/user/authenticate'\r\n      axios.post(url, auth).then((response) => {\r\n        if (response.status === 201) {\r\n          this.$session.start()\r\n          this.$session.set('jwt', response.data.token)\r\n          this.$session.set('username', response.data.username)\r\n          this.$session.set('email', response.data.email)\r\n          this.$session.set('role_id', response.data.role_id)\r\n          this.logName = this.$session.get('username')\r\n          this.role = this.$session.get('role_id')\r\n          axios.defaults.headers.common.Authorization = 'Bearer ' + response.data.token\r\n          this.hideModal('my-modal')\r\n          this.success = true\r\n        }\r\n      }).catch(err => {\r\n        if (err.response.status === 405) {\r\n          this.error = 'You might have entered the wrong password or username. Please try again!'\r\n          // console.log(this.error)\r\n        }\r\n      })\r\n      return this.$session.exists()\r\n    },\r\n    LogOut () {\r\n      // sesssion\r\n      this.$session.destroy()\r\n      this.success = false\r\n      this.hideModal('my-modal')\r\n      this.login.username = ''\r\n      this.login.password = ''\r\n      this.error = ''\r\n      this.$root.$emit('bv::show::modal', 'logoutSuccess-modal', '#btnSucess')\r\n      return this.$session.exists()\r\n    },\r\n    Register () {\r\n      const urlUserName = 'https://wad2-hallallinone.et.r.appspot.com/user/get/username=' + this.register.username\r\n      const urlUserEmail = 'https://wad2-hallallinone.et.r.appspot.com/user/get/email=' + this.register.email\r\n      const UserStatus = axios.get(urlUserName)\r\n      if (UserStatus.status !== 200) {\r\n        this.checkUser = true\r\n      }\r\n      const UserEmail = axios.get(urlUserEmail)\r\n      if (UserEmail.status !== 200) {\r\n        this.checkUser = true\r\n      }\r\n      if (this.checkUser) {\r\n        this.role = 'User'\r\n        var cryptoObject = Vue.CryptoJS.SHA256(this.register.password).toString()\r\n        const auth = { username: this.register.username, password: cryptoObject, email: this.register.email, role_id: this.role }\r\n        const url = 'https://wad2-hallallinone.et.r.appspot.com/user/add'\r\n        axios.post(url, auth).then((response) => {\r\n          console.log(response.status)\r\n          if (response.status === 201) {\r\n            this.$session.start()\r\n            this.$session.set('jwt', response.data.token)\r\n            this.$session.set('username', response.data.username)\r\n            this.$session.set('email', response.data.email)\r\n            this.$session.set('role_id', response.data.role_id)\r\n            this.logName = this.$session.get('username')\r\n            this.role = this.$session.get('role_id')\r\n            axios.defaults.headers.common.Authorization = 'Bearer ' + response.data.token\r\n            this.hideModal('my-modal')\r\n            this.success = true\r\n            // this.role = ''\r\n          }\r\n        }, function (err) {\r\n          console.log('err', err)\r\n        })\r\n      }\r\n    },\r\n    restart () {\r\n      this.login.username = ''\r\n      this.login.password = ''\r\n      this.register.username = ''\r\n      this.register.email = ''\r\n      this.register.password = ''\r\n      this.error = ''\r\n      this.hideModal('my-modal')\r\n    }\r\n  }\r\n}\r\n"]}]}