{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Home.vue","mtime":1605292793360},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMNCmltcG9ydCBDb250cmlidXRpb24gZnJvbSAnQC9jb21wb25lbnRzL0NvbnRyaWJ1dGlvbi52dWUnDQppbXBvcnQgUmVzdGF1cmFudENhcmQgZnJvbSAnQC9jb21wb25lbnRzL1Jlc3RhdXJhbnRDYXJkLnZ1ZScNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnSG9tZScsDQogIGNvbXBvbmVudHM6IHsNCiAgICBDb250cmlidXRpb24sDQogICAgUmVzdGF1cmFudENhcmQNCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNsaWRlOiAwLA0KICAgICAgc2xpZGluZzogbnVsbCwNCiAgICAgIGFkZHJlc3M6ICcnLA0KICAgICAgbG9jYXRpb246ICcnLA0KICAgICAgcmVzdGF1cmFudDogT2JqZWN0DQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICAvLyBWdWUtYnJvd3Nlci1nZW9sb2NhdGlvbiBucG0NCiAgICB0aGlzLiRnZXRMb2NhdGlvbigpDQogICAgICAudGhlbihjb29yZGluYXRlcyA9PiB7DQogICAgICAgIC8vIFJlZmVycmVkIHRvIGh0dHBzOi8vc29mdGF1dGhvci5jb20vdnVlanMtZ2VvbG9jYXRpb24tZ2V0LXVzZXItbG9jYXRpb24vDQogICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2dlb2NvZGUvanNvbj9sYXRsbmc9JyArIGNvb3JkaW5hdGVzLmxhdCArICcsJyArIGNvb3JkaW5hdGVzLmxuZyArICcma2V5PUFJemFTeUNZLUpMelJYZHVRRmRyZmxwamVuR2RfczU4TGlsVXJRVScNCiAgICAgICAgKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JfbWVzc2FnZSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZXJyb3JfbWVzc2FnZSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5yZXN1bHRzKQ0KICAgICAgICAgICAgdGhpcy5hZGRyZXNzID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmZvcm1hdHRlZF9hZGRyZXNzDQogICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzWzBdLmFkZHJlc3NfY29tcG9uZW50c1syXS5sb25nX25hbWUNCiAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly93YWQyLWhhbGxhbGxpbm9uZS5ldC5yLmFwcHNwb3QuY29tL3Jlc3RhdXJhbnQvc2VhcmNoL2xvY2F0aW9uLycgKyB0aGlzLmxvY2F0aW9uDQogICAgICAgICAgICApLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgIHRoaXMucmVzdGF1cmFudCA9IGRhdGEuZGF0YS5SZXN0YXVyYW50DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBvblNsaWRlU3RhcnQgKHNsaWRlKSB7DQogICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlDQogICAgfSwNCiAgICBvblNsaWRlRW5kIChzbGlkZSkgew0KICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2UNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-row class=\"home\">\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n    <b-col>\r\n      <div class=\"carousel-section\">\r\n        <b-carousel id=\"carousel-1\" v-model=\"slide\" :interval=\"6000\" controls indicators variant=\"dark\"\r\n          style=\"text-shadow: 2px 2px 2px #2c3e50;\" @sliding-start=\"onSlideStart\" @sliding-end=\"onSlideEnd\">\r\n          <!-- 1. Slides with custom text -->\r\n          <!-- Note the classes .d-block and .img-fluid to prevent browser default image alignment -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/halal_corner_front.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>The Halal Corner</h1>\r\n              <p>Formerly known as Asyraf's Halal Corner, The Halal Corner is located in Bedok. Bringing you quality halal Western fusion dishes.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n\r\n          <!-- 2. Slides with custom text -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/The_Straits_Teppanyaki.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>The Straits Teppanyaki</h1>\r\n              <p>The new restaurant focuses on Asian and Western cuisines cooked and grilled on a hot metal plate, using the Japanese Teppanyaki method and style of cooking.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n\r\n          <!-- 3. Slides with custom text -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/Rumi_The_Poets_Cup.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>Rumi The Poets Cup</h1>\r\n              <p>The beverage brand is known for their artisanal drinks that come with special poetry notes. Rumiâ€™s drinks are categorized largely into three main categories: The Dairy Collezione, The Mocktails and The Frizantea.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n        </b-carousel>\r\n      </div>\r\n      <!-- Restaurants populate based on current location -->\r\n      <div style=\"margin-top: 20px;\">\r\n        <h1 class=\"text-center\">Restaurants Near You</h1>\r\n        <h6 class=\"text-center\">Current Location: {{ address }}</h6>\r\n        <!-- <div class=\"text-right\">View filter buttons</div> -->\r\n        <div class=\"content\">\r\n          <!-- Checks if there's restaurant data then show this -->\r\n          <span v-if=\"restaurant != undefined\">\r\n            <b-card-group deck class=\"justify-content-center\">\r\n              <span v-for=\"store in restaurant\" :key=\"store.id\">\r\n                <RestaurantCard :id=\"store.rid\" :stall=\"store\" />\r\n              </span>\r\n            </b-card-group>\r\n          </span>\r\n          <!-- There's no restaurant data so show this -->\r\n          <div v-else>\r\n            <img src=\"../assets/questionmark.png\">\r\n            <h2>There are no restaurants near you.</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Contribution />\r\n    </b-col>\r\n    <b-col sm=\"0\" md=\"2\" class=\"green\"></b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport Contribution from '@/components/Contribution.vue'\r\nimport RestaurantCard from '@/components/RestaurantCard.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    Contribution,\r\n    RestaurantCard\r\n  },\r\n  data () {\r\n    return {\r\n      slide: 0,\r\n      sliding: null,\r\n      address: '',\r\n      location: '',\r\n      restaurant: Object\r\n    }\r\n  },\r\n  created () {\r\n    // Vue-browser-geolocation npm\r\n    this.$getLocation()\r\n      .then(coordinates => {\r\n        // Referred to https://softauthor.com/vuejs-geolocation-get-user-location/\r\n        axios.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + coordinates.lat + ',' + coordinates.lng + '&key=AIzaSyCY-JLzRXduQFdrflpjenGd_s58LilUrQU'\r\n        ).then(response => {\r\n          if (response.error_message) {\r\n            console.log(response.error_message)\r\n          } else {\r\n            console.log(response.data.results)\r\n            this.address = response.data.results[0].formatted_address\r\n            this.location = response.data.results[0].address_components[2].long_name\r\n            axios.get('https://wad2-hallallinone.et.r.appspot.com/restaurant/search/location/' + this.location\r\n            ).then(data => {\r\n              this.restaurant = data.data.Restaurant\r\n            })\r\n          }\r\n        })\r\n      })\r\n  },\r\n  methods: {\r\n    onSlideStart (slide) {\r\n      this.sliding = true\r\n    },\r\n    onSlideEnd (slide) {\r\n      this.sliding = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}