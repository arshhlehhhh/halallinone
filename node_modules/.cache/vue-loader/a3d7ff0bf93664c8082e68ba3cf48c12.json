{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Restaurant.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Restaurant.vue","mtime":1605292793362},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5yZXN0YXVyYW50IHsNCiAgLmJhZGdlIHsNCiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogIH0NCiAgaDQgew0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICB9DQogIC5kZXRhaWxzLCAucmV2aWV3cyB7DQogICAgbWFyZ2luOiAyMHB4Ow0KICAgIC5idG4tbGlnaHQuZGlzYWJsZWQsIC5idG4tbGlnaHQ6ZGlzYWJsZWQgew0KICAgICAgb3BhY2l0eTogMTsNCiAgICB9DQogICAgLmRyb3Bkb3duLWl0ZW0uYWN0aXZlLCAuZHJvcGRvd24taXRlbTphY3RpdmUgew0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzIzOUI0RDsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Restaurant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Restaurant.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-row class=\"restaurant\">\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n    <b-col>\r\n      <!-- Image with title and brief info -->\r\n      <b-overlay show opacity=\"0.75\" variant=\"light\">\r\n        <img :src=\"storeImage()\" width=\"100%\" height=\"380px\">\r\n        <template v-slot:overlay>\r\n          <div class=\"w-100 text-center\">\r\n            <h1 style=\"font-size: 60px; margin-bottom: 20px\">{{ restaurant.store_name }}</h1>\r\n            <p style=\"font-size: 18px;\">{{ restaurant.description }}</p>\r\n            <h4>\r\n              <b-badge variant=\"info\" v-for=\"tag in tags\" :key=\"tag\"> {{ tag }} </b-badge>\r\n            </h4>\r\n          </div>\r\n        </template>\r\n      </b-overlay>\r\n      <b-row>\r\n        <b-col md=\"6\">\r\n          <div class=\"details\">\r\n            <h2>Store Information</h2>\r\n            <h4>{{ restaurant.outlet }}</h4>\r\n            <p>{{ restaurant.address }}, {{ restaurant.unit_number }} {{ restaurant.postal_code }}</p>\r\n            <h4>Operating Hours</h4>\r\n            <p>Days, Hours {{ operation.days }}</p>\r\n            <h4>Contact Details</h4>\r\n            <p>Phone Number: {{ contact[0] }} <br>Email: {{ contact[1] }}</p>\r\n          </div>\r\n        </b-col>\r\n        <b-col md=\"6\">\r\n          <div class=\"details\">\r\n            <h2>Google Map</h2>\r\n            <p>\r\n              <iframe width=\"400\" height=\"350\" frameborder=\"0\" style=\"border:0\" :src=\"gMap\" allowfullscreen></iframe>\r\n            </p>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n      <div class=\"reviews\">\r\n        <h2>Ratings & Reviews</h2>\r\n        <h5>{{ restaurant.rating }} / 5 stars\r\n          <b-form-rating width=\"40\" variant=\"success\" inline no-border readonly :value=\"restaurant.rating\" />\r\n        </h5>\r\n      </div>\r\n      <Contribution />\r\n    </b-col>\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.restaurant {\r\n  .badge {\r\n    margin-right: 10px;\r\n  }\r\n  h4 {\r\n    font-weight: bold;\r\n  }\r\n  .details, .reviews {\r\n    margin: 20px;\r\n    .btn-light.disabled, .btn-light:disabled {\r\n      opacity: 1;\r\n    }\r\n    .dropdown-item.active, .dropdown-item:active {\r\n      background-color: #239B4D;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport Contribution from '@/components/Contribution.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Restaurant',\r\n  components: {\r\n    Contribution\r\n  },\r\n  data () {\r\n    return {\r\n      restaurant: [],\r\n      operation: Object,\r\n      contact: [],\r\n      tags: [],\r\n      post: null,\r\n      test: this.$route.params.id,\r\n      gMap: '',\r\n      getPlaceId: '',\r\n      place_id: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    axios\r\n      .get('https://wad2-hallallinone.et.r.appspot.com/restaurant/search/rid/' + this.$route.params.id)\r\n      .then(response => {\r\n        this.restaurant = response.data.Restaurant\r\n        this.restaurant = this.restaurant[0]\r\n      }).then(data => {\r\n        const tempArr = this.filterArray(this.restaurant.tags)\r\n        tempArr.forEach(element => {\r\n          this.tags.push(element.substring(1, element.length - 1))\r\n        })\r\n        this.contact = this.filterArray(this.restaurant.contact)\r\n        this.gMap = 'https://www.google.com/maps/embed/v1/place?key=AIzaSyCY-JLzRXduQFdrflpjenGd_s58LilUrQU&q=' + this.restaurant.postal_code\r\n        this.operation = this.restaurant.operation\r\n        this.place_id = 'https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=' + this.restaurant.store_name + ' ' + this.restaurant.outlet + '&inputtype=textquery&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M&fields=place_id,formatted_address'\r\n        console.log(this.operation)\r\n        axios\r\n          .get('https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=' + this.restaurant.store_name + ' ' + this.restaurant.outlet + '&inputtype=textquery&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M&fields=place_id,formatted_address')\r\n          .then(response => {\r\n            var result = response.data.candidates[0]\r\n            this.place_id = result.place_id\r\n            console.log(this.place_id)\r\n            axios\r\n              .get('https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/details/json?place_id=' + this.place_id + '&fields=name,rating,reviews&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M')\r\n              .then(response => {\r\n                this.restaurant.rating = response.data.result.rating\r\n                this.restaurant.review = response.data.result.reviews\r\n\r\n                console.log(this.restaurant.rating)\r\n                console.log(this.restaurant.review)\r\n\r\n                console.log('restaurant')\r\n                console.log(this.restaurant)\r\n              })\r\n          })\r\n      })\r\n  },\r\n  methods: {\r\n    filterArray: function (temp) {\r\n      temp = temp.substring(1, temp.length - 1)\r\n      temp = temp.split(', ')\r\n      return temp\r\n    },\r\n    storeImage () {\r\n      var img = ''\r\n      if (this.restaurant.store_name === '4Fingers') {\r\n        img = 'https://s3-ap-southeast-1.amazonaws.com/191-dev/wp-content/uploads/2020/07/16162146/4fingers.jpg'\r\n      } else if (this.restaurant.store_name === '18 Chefs') {\r\n        img = 'https://moderne.com.sg/wp-content/uploads/2016/12/18-chefs.jpg'\r\n      } else {\r\n        img = '../assets/halal_corner_front.jpg'\r\n      }\r\n      return img\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}