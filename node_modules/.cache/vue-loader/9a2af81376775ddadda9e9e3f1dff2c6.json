{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\views\\Home.vue","mtime":1605374709652},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMNCmltcG9ydCBDb250cmlidXRpb24gZnJvbSAnQC9jb21wb25lbnRzL0NvbnRyaWJ1dGlvbi52dWUnDQppbXBvcnQgUmVzdGF1cmFudENhcmQgZnJvbSAnQC9jb21wb25lbnRzL1Jlc3RhdXJhbnRDYXJkLnZ1ZScNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnSG9tZScsDQogIGNvbXBvbmVudHM6IHsNCiAgICBDb250cmlidXRpb24sDQogICAgUmVzdGF1cmFudENhcmQNCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNsaWRlOiAwLA0KICAgICAgc2xpZGluZzogbnVsbCwNCiAgICAgIGFkZHJlc3M6ICcnLA0KICAgICAgbG9jYXRpb246ICcnLA0KICAgICAgcmVzdGF1cmFudDoge30sDQogICAgICBtc2c6ICdUaGVyZSBhcmUgbm8gcmVzdGF1cmFudHMgbmVhciB5b3UuJywNCiAgICAgIGVycm9yOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgLy8gVnVlLWJyb3dzZXItZ2VvbG9jYXRpb24gbnBtDQogICAgdGhpcy4kZ2V0TG9jYXRpb24oKQ0KICAgICAgLnRoZW4oY29vcmRpbmF0ZXMgPT4gew0KICAgICAgICAvLyBSZWZlcnJlZCB0byBodHRwczovL3NvZnRhdXRob3IuY29tL3Z1ZWpzLWdlb2xvY2F0aW9uLWdldC11c2VyLWxvY2F0aW9uLw0KICAgICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24/bGF0bG5nPScgKyBjb29yZGluYXRlcy5sYXQgKyAnLCcgKyBjb29yZGluYXRlcy5sbmcgKyAnJmtleT1BSXphU3lDWS1KTHpSWGR1UUZkcmZscGplbkdkX3M1OExpbFVyUVUnDQogICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yX21lc3NhZ2UpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmVycm9yX21lc3NhZ2UpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuYWRkcmVzcyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5mb3JtYXR0ZWRfYWRkcmVzcw0KICAgICAgICAgICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IHJlc3BvbnNlLmRhdGEucmVzdWx0c1swXS5hZGRyZXNzX2NvbXBvbmVudHNbMl0ubG9uZ19uYW1lDQogICAgICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uID09PSAnRG93bnRvd24gQ29yZScpIHsgLy8gR29vZ2xlIG1hcCByZWNvcmRzIGNlbnRyYWwgYXJlYSBhcyBEb3dudG93biBDb3JlDQogICAgICAgICAgICAgIHRoaXMubG9jYXRpb24gPSAncmVnaW9uL2NlbnRyYWwnDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gJ2xvY2F0aW9uLycgKyBjdXJyZW50TG9jYXRpb24NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly93YWQyLWhhbGxhbGxpbm9uZS5ldC5yLmFwcHNwb3QuY29tL3Jlc3RhdXJhbnQvc2VhcmNoLycgKyB0aGlzLmxvY2F0aW9uDQogICAgICAgICAgICApLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgIHRoaXMucmVzdGF1cmFudCA9IGRhdGEuZGF0YS5SZXN0YXVyYW50DQogICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlDQogICAgICAgICAgICAgIHRoaXMubXNnID0gJ1VuYWJsZSB0byBnZXQgcmVzdGF1cmFudHMuJw0KICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFQSSAke2Vycm9yfWApDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBvblNsaWRlU3RhcnQgKHNsaWRlKSB7DQogICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlDQogICAgfSwNCiAgICBvblNsaWRlRW5kIChzbGlkZSkgew0KICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2UNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-row class=\"home\">\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n    <b-col>\r\n      <div class=\"carousel-section\">\r\n        <b-carousel id=\"carousel-1\" v-model=\"slide\" :interval=\"6000\" controls indicators variant=\"dark\"\r\n          style=\"text-shadow: 2px 2px 2px #2c3e50;\" @sliding-start=\"onSlideStart\" @sliding-end=\"onSlideEnd\">\r\n          <!-- 1. Slides with custom text -->\r\n          <!-- Note the classes .d-block and .img-fluid to prevent browser default image alignment -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/halal_corner_front.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>The Halal Corner</h1>\r\n              <p>Formerly known as Asyraf's Halal Corner, The Halal Corner is located in Bedok. Bringing you quality halal Western fusion dishes.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n\r\n          <!-- 2. Slides with custom text -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/The_Straits_Teppanyaki.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>The Straits Teppanyaki</h1>\r\n              <p>The new restaurant focuses on Asian and Western cuisines cooked and grilled on a hot metal plate, using the Japanese Teppanyaki method and style of cooking.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n\r\n          <!-- 3. Slides with custom text -->\r\n          <b-carousel-slide>\r\n            <template v-slot:img>\r\n              <img class=\"d-block img-fluid w-100\" src=\"../assets/Rumi_The_Poets_Cup.jpg\" alt=\"image slot\">\r\n            </template>\r\n            <div class=\"info\">\r\n              <h1>Rumi The Poets Cup</h1>\r\n              <p>The beverage brand is known for their artisanal drinks that come with special poetry notes. Rumiâ€™s drinks are categorized largely into three main categories: The Dairy Collezione, The Mocktails and The Frizantea.</p>\r\n            </div>\r\n          </b-carousel-slide>\r\n        </b-carousel>\r\n      </div>\r\n      <!-- Restaurants populate based on current location -->\r\n      <div style=\"margin-top: 20px;\">\r\n        <h1 class=\"text-center\">Restaurants Near You</h1>\r\n        <h6 class=\"text-center\">Current Location: {{ address }}</h6>\r\n        <!-- <div class=\"text-right\">View filter buttons</div> -->\r\n        <div class=\"content\">\r\n          <!-- Checks if there's restaurant data then show this || isEmpty(restaurant)-->\r\n          <span v-if=\"restaurant != undefined && !error\">\r\n            <span v-show=\"restaurant === {}\"><b-icon icon=\"arrow-clockwise\" animation=\"spin\" font-scale=\"4\" variant=\"success\"></b-icon></span>\r\n            <b-card-group deck class=\"justify-content-center\">\r\n              <span v-for=\"store in restaurant\" :key=\"store.id\">\r\n                <RestaurantCard :id=\"store.rid\" :stall=\"store\" />\r\n              </span>\r\n            </b-card-group>\r\n          </span>\r\n          <!-- There's no restaurant data so show this -->\r\n          <div v-else style=\"text-align: center;\">\r\n            <img src=\"../assets/questionmark.png\">\r\n            <h2>{{ msg }}</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Contribution />\r\n    </b-col>\r\n    <b-col sm=\"0\" md=\"2\" class=\"green\"></b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport Contribution from '@/components/Contribution.vue'\r\nimport RestaurantCard from '@/components/RestaurantCard.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  components: {\r\n    Contribution,\r\n    RestaurantCard\r\n  },\r\n  data () {\r\n    return {\r\n      slide: 0,\r\n      sliding: null,\r\n      address: '',\r\n      location: '',\r\n      restaurant: {},\r\n      msg: 'There are no restaurants near you.',\r\n      error: false\r\n    }\r\n  },\r\n  created () {\r\n    // Vue-browser-geolocation npm\r\n    this.$getLocation()\r\n      .then(coordinates => {\r\n        // Referred to https://softauthor.com/vuejs-geolocation-get-user-location/\r\n        axios.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + coordinates.lat + ',' + coordinates.lng + '&key=AIzaSyCY-JLzRXduQFdrflpjenGd_s58LilUrQU'\r\n        ).then(response => {\r\n          if (response.error_message) {\r\n            console.log(response.error_message)\r\n          } else {\r\n            this.address = response.data.results[0].formatted_address\r\n            var currentLocation = response.data.results[0].address_components[2].long_name\r\n            if (currentLocation === 'Downtown Core') { // Google map records central area as Downtown Core\r\n              this.location = 'region/central'\r\n            } else {\r\n              this.location = 'location/' + currentLocation\r\n            }\r\n            axios.get('https://wad2-hallallinone.et.r.appspot.com/restaurant/search/' + this.location\r\n            ).then(data => {\r\n              this.restaurant = data.data.Restaurant\r\n            }).catch(error => {\r\n              this.error = true\r\n              this.msg = 'Unable to get restaurants.'\r\n              throw new Error(`API ${error}`)\r\n            })\r\n          }\r\n        })\r\n      })\r\n  },\r\n  methods: {\r\n    onSlideStart (slide) {\r\n      this.sliding = true\r\n    },\r\n    onSlideEnd (slide) {\r\n      this.sliding = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}