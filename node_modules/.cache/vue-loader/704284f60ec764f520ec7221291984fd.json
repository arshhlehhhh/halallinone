{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Restaurant.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Restaurant.vue","mtime":1605292793362},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ29udHJpYnV0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9Db250cmlidXRpb24udnVlJw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdSZXN0YXVyYW50JywNCiAgY29tcG9uZW50czogew0KICAgIENvbnRyaWJ1dGlvbg0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmVzdGF1cmFudDogW10sDQogICAgICBvcGVyYXRpb246IE9iamVjdCwNCiAgICAgIGNvbnRhY3Q6IFtdLA0KICAgICAgdGFnczogW10sDQogICAgICBwb3N0OiBudWxsLA0KICAgICAgdGVzdDogdGhpcy4kcm91dGUucGFyYW1zLmlkLA0KICAgICAgZ01hcDogJycsDQogICAgICBnZXRQbGFjZUlkOiAnJywNCiAgICAgIHBsYWNlX2lkOiAnJw0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCAoKSB7DQogICAgYXhpb3MNCiAgICAgIC5nZXQoJ2h0dHBzOi8vd2FkMi1oYWxsYWxsaW5vbmUuZXQuci5hcHBzcG90LmNvbS9yZXN0YXVyYW50L3NlYXJjaC9yaWQvJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkNCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5yZXN0YXVyYW50ID0gcmVzcG9uc2UuZGF0YS5SZXN0YXVyYW50DQogICAgICAgIHRoaXMucmVzdGF1cmFudCA9IHRoaXMucmVzdGF1cmFudFswXQ0KICAgICAgfSkudGhlbihkYXRhID0+IHsNCiAgICAgICAgY29uc3QgdGVtcEFyciA9IHRoaXMuZmlsdGVyQXJyYXkodGhpcy5yZXN0YXVyYW50LnRhZ3MpDQogICAgICAgIHRlbXBBcnIuZm9yRWFjaChlbGVtZW50ID0+IHsNCiAgICAgICAgICB0aGlzLnRhZ3MucHVzaChlbGVtZW50LnN1YnN0cmluZygxLCBlbGVtZW50Lmxlbmd0aCAtIDEpKQ0KICAgICAgICB9KQ0KICAgICAgICB0aGlzLmNvbnRhY3QgPSB0aGlzLmZpbHRlckFycmF5KHRoaXMucmVzdGF1cmFudC5jb250YWN0KQ0KICAgICAgICB0aGlzLmdNYXAgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL2VtYmVkL3YxL3BsYWNlP2tleT1BSXphU3lDWS1KTHpSWGR1UUZkcmZscGplbkdkX3M1OExpbFVyUVUmcT0nICsgdGhpcy5yZXN0YXVyYW50LnBvc3RhbF9jb2RlDQogICAgICAgIHRoaXMub3BlcmF0aW9uID0gdGhpcy5yZXN0YXVyYW50Lm9wZXJhdGlvbg0KICAgICAgICB0aGlzLnBsYWNlX2lkID0gJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9wbGFjZS9maW5kcGxhY2Vmcm9tdGV4dC9qc29uP2lucHV0PScgKyB0aGlzLnJlc3RhdXJhbnQuc3RvcmVfbmFtZSArICcgJyArIHRoaXMucmVzdGF1cmFudC5vdXRsZXQgKyAnJmlucHV0dHlwZT10ZXh0cXVlcnkma2V5PUFJemFTeURnS0QyN01FQWVONEpnWTdSX0tkNERuSmJOVWpaX3EyTSZmaWVsZHM9cGxhY2VfaWQsZm9ybWF0dGVkX2FkZHJlc3MnDQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMub3BlcmF0aW9uKQ0KICAgICAgICBheGlvcw0KICAgICAgICAgIC5nZXQoJ2h0dHBzOi8vY29ycy1hbnl3aGVyZS5oZXJva3VhcHAuY29tL2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9wbGFjZS9maW5kcGxhY2Vmcm9tdGV4dC9qc29uP2lucHV0PScgKyB0aGlzLnJlc3RhdXJhbnQuc3RvcmVfbmFtZSArICcgJyArIHRoaXMucmVzdGF1cmFudC5vdXRsZXQgKyAnJmlucHV0dHlwZT10ZXh0cXVlcnkma2V5PUFJemFTeURnS0QyN01FQWVONEpnWTdSX0tkNERuSmJOVWpaX3EyTSZmaWVsZHM9cGxhY2VfaWQsZm9ybWF0dGVkX2FkZHJlc3MnKQ0KICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5kYXRhLmNhbmRpZGF0ZXNbMF0NCiAgICAgICAgICAgIHRoaXMucGxhY2VfaWQgPSByZXN1bHQucGxhY2VfaWQNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGxhY2VfaWQpDQogICAgICAgICAgICBheGlvcw0KICAgICAgICAgICAgICAuZ2V0KCdodHRwczovL2NvcnMtYW55d2hlcmUuaGVyb2t1YXBwLmNvbS9odHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvcGxhY2UvZGV0YWlscy9qc29uP3BsYWNlX2lkPScgKyB0aGlzLnBsYWNlX2lkICsgJyZmaWVsZHM9bmFtZSxyYXRpbmcscmV2aWV3cyZrZXk9QUl6YVN5RGdLRDI3TUVBZU40SmdZN1JfS2Q0RG5KYk5ValpfcTJNJykNCiAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMucmVzdGF1cmFudC5yYXRpbmcgPSByZXNwb25zZS5kYXRhLnJlc3VsdC5yYXRpbmcNCiAgICAgICAgICAgICAgICB0aGlzLnJlc3RhdXJhbnQucmV2aWV3ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQucmV2aWV3cw0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXN0YXVyYW50LnJhdGluZykNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlc3RhdXJhbnQucmV2aWV3KQ0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3RhdXJhbnQnKQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzdGF1cmFudCkNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGZpbHRlckFycmF5OiBmdW5jdGlvbiAodGVtcCkgew0KICAgICAgdGVtcCA9IHRlbXAuc3Vic3RyaW5nKDEsIHRlbXAubGVuZ3RoIC0gMSkNCiAgICAgIHRlbXAgPSB0ZW1wLnNwbGl0KCcsICcpDQogICAgICByZXR1cm4gdGVtcA0KICAgIH0sDQogICAgc3RvcmVJbWFnZSAoKSB7DQogICAgICB2YXIgaW1nID0gJycNCiAgICAgIGlmICh0aGlzLnJlc3RhdXJhbnQuc3RvcmVfbmFtZSA9PT0gJzRGaW5nZXJzJykgew0KICAgICAgICBpbWcgPSAnaHR0cHM6Ly9zMy1hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tLzE5MS1kZXYvd3AtY29udGVudC91cGxvYWRzLzIwMjAvMDcvMTYxNjIxNDYvNGZpbmdlcnMuanBnJw0KICAgICAgfSBlbHNlIGlmICh0aGlzLnJlc3RhdXJhbnQuc3RvcmVfbmFtZSA9PT0gJzE4IENoZWZzJykgew0KICAgICAgICBpbWcgPSAnaHR0cHM6Ly9tb2Rlcm5lLmNvbS5zZy93cC1jb250ZW50L3VwbG9hZHMvMjAxNi8xMi8xOC1jaGVmcy5qcGcnDQogICAgICB9IGVsc2Ugew0KICAgICAgICBpbWcgPSAnLi4vYXNzZXRzL2hhbGFsX2Nvcm5lcl9mcm9udC5qcGcnDQogICAgICB9DQogICAgICByZXR1cm4gaW1nDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Restaurant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Restaurant.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-row class=\"restaurant\">\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n    <b-col>\r\n      <!-- Image with title and brief info -->\r\n      <b-overlay show opacity=\"0.75\" variant=\"light\">\r\n        <img :src=\"storeImage()\" width=\"100%\" height=\"380px\">\r\n        <template v-slot:overlay>\r\n          <div class=\"w-100 text-center\">\r\n            <h1 style=\"font-size: 60px; margin-bottom: 20px\">{{ restaurant.store_name }}</h1>\r\n            <p style=\"font-size: 18px;\">{{ restaurant.description }}</p>\r\n            <h4>\r\n              <b-badge variant=\"info\" v-for=\"tag in tags\" :key=\"tag\"> {{ tag }} </b-badge>\r\n            </h4>\r\n          </div>\r\n        </template>\r\n      </b-overlay>\r\n      <b-row>\r\n        <b-col md=\"6\">\r\n          <div class=\"details\">\r\n            <h2>Store Information</h2>\r\n            <h4>{{ restaurant.outlet }}</h4>\r\n            <p>{{ restaurant.address }}, {{ restaurant.unit_number }} {{ restaurant.postal_code }}</p>\r\n            <h4>Operating Hours</h4>\r\n            <p>Days, Hours {{ operation.days }}</p>\r\n            <h4>Contact Details</h4>\r\n            <p>Phone Number: {{ contact[0] }} <br>Email: {{ contact[1] }}</p>\r\n          </div>\r\n        </b-col>\r\n        <b-col md=\"6\">\r\n          <div class=\"details\">\r\n            <h2>Google Map</h2>\r\n            <p>\r\n              <iframe width=\"400\" height=\"350\" frameborder=\"0\" style=\"border:0\" :src=\"gMap\" allowfullscreen></iframe>\r\n            </p>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n      <div class=\"reviews\">\r\n        <h2>Ratings & Reviews</h2>\r\n        <h5>{{ restaurant.rating }} / 5 stars\r\n          <b-form-rating width=\"40\" variant=\"success\" inline no-border readonly :value=\"restaurant.rating\" />\r\n        </h5>\r\n      </div>\r\n      <Contribution />\r\n    </b-col>\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.restaurant {\r\n  .badge {\r\n    margin-right: 10px;\r\n  }\r\n  h4 {\r\n    font-weight: bold;\r\n  }\r\n  .details, .reviews {\r\n    margin: 20px;\r\n    .btn-light.disabled, .btn-light:disabled {\r\n      opacity: 1;\r\n    }\r\n    .dropdown-item.active, .dropdown-item:active {\r\n      background-color: #239B4D;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport Contribution from '@/components/Contribution.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Restaurant',\r\n  components: {\r\n    Contribution\r\n  },\r\n  data () {\r\n    return {\r\n      restaurant: [],\r\n      operation: Object,\r\n      contact: [],\r\n      tags: [],\r\n      post: null,\r\n      test: this.$route.params.id,\r\n      gMap: '',\r\n      getPlaceId: '',\r\n      place_id: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    axios\r\n      .get('https://wad2-hallallinone.et.r.appspot.com/restaurant/search/rid/' + this.$route.params.id)\r\n      .then(response => {\r\n        this.restaurant = response.data.Restaurant\r\n        this.restaurant = this.restaurant[0]\r\n      }).then(data => {\r\n        const tempArr = this.filterArray(this.restaurant.tags)\r\n        tempArr.forEach(element => {\r\n          this.tags.push(element.substring(1, element.length - 1))\r\n        })\r\n        this.contact = this.filterArray(this.restaurant.contact)\r\n        this.gMap = 'https://www.google.com/maps/embed/v1/place?key=AIzaSyCY-JLzRXduQFdrflpjenGd_s58LilUrQU&q=' + this.restaurant.postal_code\r\n        this.operation = this.restaurant.operation\r\n        this.place_id = 'https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=' + this.restaurant.store_name + ' ' + this.restaurant.outlet + '&inputtype=textquery&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M&fields=place_id,formatted_address'\r\n        console.log(this.operation)\r\n        axios\r\n          .get('https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=' + this.restaurant.store_name + ' ' + this.restaurant.outlet + '&inputtype=textquery&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M&fields=place_id,formatted_address')\r\n          .then(response => {\r\n            var result = response.data.candidates[0]\r\n            this.place_id = result.place_id\r\n            console.log(this.place_id)\r\n            axios\r\n              .get('https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/details/json?place_id=' + this.place_id + '&fields=name,rating,reviews&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M')\r\n              .then(response => {\r\n                this.restaurant.rating = response.data.result.rating\r\n                this.restaurant.review = response.data.result.reviews\r\n\r\n                console.log(this.restaurant.rating)\r\n                console.log(this.restaurant.review)\r\n\r\n                console.log('restaurant')\r\n                console.log(this.restaurant)\r\n              })\r\n          })\r\n      })\r\n  },\r\n  methods: {\r\n    filterArray: function (temp) {\r\n      temp = temp.substring(1, temp.length - 1)\r\n      temp = temp.split(', ')\r\n      return temp\r\n    },\r\n    storeImage () {\r\n      var img = ''\r\n      if (this.restaurant.store_name === '4Fingers') {\r\n        img = 'https://s3-ap-southeast-1.amazonaws.com/191-dev/wp-content/uploads/2020/07/16162146/4fingers.jpg'\r\n      } else if (this.restaurant.store_name === '18 Chefs') {\r\n        img = 'https://moderne.com.sg/wp-content/uploads/2016/12/18-chefs.jpg'\r\n      } else {\r\n        img = '../assets/halal_corner_front.jpg'\r\n      }\r\n      return img\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}