{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\views\\Restaurant.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\src\\views\\Restaurant.vue","mtime":1605374709678},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone-prod\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ29udHJpYnV0aW9uIGZyb20gJ0AvY29tcG9uZW50cy9Db250cmlidXRpb24udnVlJw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdSZXN0YXVyYW50JywNCiAgY29tcG9uZW50czogew0KICAgIENvbnRyaWJ1dGlvbg0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmVzdGF1cmFudDogW10sDQogICAgICBvcGVyYXRpb246IE9iamVjdCwNCiAgICAgIGNvbnRhY3Q6IFtdLA0KICAgICAgZW1haWw6ICctJywNCiAgICAgIHRhZ3M6IFtdLA0KICAgICAgc29jaWFsczogW10sDQogICAgICByZXZpZXdzOiBbXSwNCiAgICAgIHJhdGluZ3M6IDAsDQogICAgICBnTWFwOiAnJywNCiAgICAgIGdldFBsYWNlSWQ6ICcnLA0KICAgICAgcGxhY2VfaWQ6ICcnDQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICBheGlvcw0KICAgICAgLmdldCgnaHR0cHM6Ly93YWQyLWhhbGxhbGxpbm9uZS5ldC5yLmFwcHNwb3QuY29tL3Jlc3RhdXJhbnQvc2VhcmNoL3JpZC8nICsgdGhpcy4kcm91dGUucGFyYW1zLmlkKQ0KICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnJlc3RhdXJhbnQgPSByZXNwb25zZS5kYXRhLlJlc3RhdXJhbnQNCiAgICAgICAgdGhpcy5yZXN0YXVyYW50ID0gdGhpcy5yZXN0YXVyYW50WzBdDQogICAgICB9KS50aGVuKGRhdGEgPT4gew0KICAgICAgICBjb25zdCB0ZW1wQXJyID0gdGhpcy5maWx0ZXJBcnJheSh0aGlzLnJlc3RhdXJhbnQudGFncykNCiAgICAgICAgdGVtcEFyci5mb3JFYWNoKGVsZW1lbnQgPT4gew0KICAgICAgICAgIHRoaXMudGFncy5wdXNoKGVsZW1lbnQuc3Vic3RyaW5nKDEsIGVsZW1lbnQubGVuZ3RoIC0gMSkpDQogICAgICAgIH0pDQogICAgICAgIHRoaXMuY29udGFjdCA9IHRoaXMuZmlsdGVyQXJyYXkodGhpcy5yZXN0YXVyYW50LmNvbnRhY3QpDQogICAgICAgIGlmICh0aGlzLmNvbnRhY3RbMV0ubGVuZ3RoID4gMikgew0KICAgICAgICAgIHRoaXMuZW1haWwgPSB0aGlzLmNvbnRhY3RbMV0NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLm9wZXJhdGlvbiA9IHRoaXMucmVzdGF1cmFudC5vcGVyYXRpb24NCiAgICAgICAgdmFyIHNvY2lhbCA9IHRoaXMucmVzdGF1cmFudC5zb2NpYWxfbWVkaWFfbGlua3MucmVwbGFjZSgvJy9nLCAnIicpDQogICAgICAgIHRoaXMuc29jaWFscyA9IEpTT04ucGFyc2Uoc29jaWFsKQ0KICAgICAgICB0aGlzLmdNYXAgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL2VtYmVkL3YxL3BsYWNlP2tleT1BSXphU3lDWS1KTHpSWGR1UUZkcmZscGplbkdkX3M1OExpbFVyUVUmcT0nICsgdGhpcy5yZXN0YXVyYW50LnBvc3RhbF9jb2RlICsgJyZ6b29tPTE4Jw0KICAgICAgICB0aGlzLnBsYWNlX2lkID0gJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9wbGFjZS9maW5kcGxhY2Vmcm9tdGV4dC9qc29uP2lucHV0PScgKyB0aGlzLnJlc3RhdXJhbnQuc3RvcmVfbmFtZSArICcgJyArIHRoaXMucmVzdGF1cmFudC5vdXRsZXQgKyAnJmlucHV0dHlwZT10ZXh0cXVlcnkma2V5PUFJemFTeURnS0QyN01FQWVONEpnWTdSX0tkNERuSmJOVWpaX3EyTSZmaWVsZHM9cGxhY2VfaWQsZm9ybWF0dGVkX2FkZHJlc3MnDQogICAgICAgIGF4aW9zDQogICAgICAgICAgLmdldCgnaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3BsYWNlL2ZpbmRwbGFjZWZyb210ZXh0L2pzb24/aW5wdXQ9JyArIHRoaXMucmVzdGF1cmFudC5zdG9yZV9uYW1lICsgJyAnICsgdGhpcy5yZXN0YXVyYW50Lm91dGxldCArICcmaW5wdXR0eXBlPXRleHRxdWVyeSZrZXk9QUl6YVN5RGdLRDI3TUVBZU40SmdZN1JfS2Q0RG5KYk5ValpfcTJNJmZpZWxkcz1wbGFjZV9pZCxmb3JtYXR0ZWRfYWRkcmVzcycpDQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGEuY2FuZGlkYXRlc1swXQ0KICAgICAgICAgICAgdGhpcy5wbGFjZV9pZCA9IHJlc3VsdC5wbGFjZV9pZA0KICAgICAgICAgICAgYXhpb3MNCiAgICAgICAgICAgICAgLmdldCgnaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmhlcm9rdWFwcC5jb20vaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL3BsYWNlL2RldGFpbHMvanNvbj9wbGFjZV9pZD0nICsgdGhpcy5wbGFjZV9pZCArICcmZmllbGRzPW5hbWUscmF0aW5nLHJldmlld3Mma2V5PUFJemFTeURnS0QyN01FQWVONEpnWTdSX0tkNERuSmJOVWpaX3EyTScpDQogICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLnJhdGluZ3MgPSByZXNwb25zZS5kYXRhLnJlc3VsdC5yYXRpbmcNCiAgICAgICAgICAgICAgICB2YXIgcmV2aWV3cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0LnJldmlld3MNCiAgICAgICAgICAgICAgICByZXZpZXdzLmZvckVhY2goZWxlbWVudCA9PiB7DQogICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge30NCiAgICAgICAgICAgICAgICAgIG9iaiA9IHsgTmFtZTogZWxlbWVudC5hdXRob3JfbmFtZSwgUmF0aW5nOiBlbGVtZW50LnJhdGluZywgRGVzY3JpcHRpb246IGVsZW1lbnQudGV4dCwgVGltZTogZWxlbWVudC5yZWxhdGl2ZV90aW1lX2Rlc2NyaXB0aW9uIH0NCiAgICAgICAgICAgICAgICAgIHRoaXMucmV2aWV3cy5wdXNoKG9iaikNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgIH0pDQogICAgICB9KQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZmlsdGVyQXJyYXk6IGZ1bmN0aW9uICh0ZW1wKSB7DQogICAgICB0ZW1wID0gdGVtcC5zdWJzdHJpbmcoMSwgdGVtcC5sZW5ndGggLSAxKQ0KICAgICAgdGVtcCA9IHRlbXAuc3BsaXQoJywgJykNCiAgICAgIHJldHVybiB0ZW1wDQogICAgfSwNCiAgICBzdG9yZUltYWdlICgpIHsNCiAgICAgIHZhciBpbWcgPSAnJw0KICAgICAgaWYgKHRoaXMucmVzdGF1cmFudC5zdG9yZV9uYW1lID09PSAnNEZpbmdlcnMnKSB7DQogICAgICAgIGltZyA9ICdodHRwczovL3MzLWFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb20vMTkxLWRldi93cC1jb250ZW50L3VwbG9hZHMvMjAyMC8wNy8xNjE2MjE0Ni80ZmluZ2Vycy5qcGcnDQogICAgICB9IGVsc2UgaWYgKHRoaXMucmVzdGF1cmFudC5zdG9yZV9uYW1lID09PSAnMTggQ2hlZnMnKSB7DQogICAgICAgIGltZyA9ICdodHRwczovL21vZGVybmUuY29tLnNnL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE2LzEyLzE4LWNoZWZzLmpwZycNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGltZyA9ICcnDQogICAgICB9DQogICAgICByZXR1cm4gaW1nDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Restaurant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Restaurant.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-row class=\"restaurant\">\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n    <b-col>\r\n      <!-- Image with title and brief info -->\r\n      <b-overlay show opacity=\"0.75\" variant=\"light\">\r\n        <img :src=\"storeImage()\" width=\"100%\" height=\"380px\">\r\n        <template v-slot:overlay>\r\n          <div class=\"w-100 text-center\">\r\n            <h1 style=\"font-size: 60px; margin-bottom: 20px\">{{ restaurant.store_name }}</h1>\r\n            <p style=\"font-size: 18px;\">{{ restaurant.description }}</p>\r\n            <h4>\r\n              <b-badge variant=\"info\" v-for=\"tag in tags\" :key=\"tag\"> {{ tag }} </b-badge>\r\n            </h4>\r\n          </div>\r\n        </template>\r\n      </b-overlay>\r\n      <b-row>\r\n        <b-col md=\"6\">\r\n          <div class=\"details\">\r\n            <h2>Store Information</h2>\r\n            <h4>{{ restaurant.outlet }}</h4>\r\n            <p>{{ restaurant.address }}, {{ restaurant.unit_number }} {{ restaurant.postal_code }}</p>\r\n            <h4>Operating Hours</h4>\r\n            <p>Days, Hours {{ operation.days }}</p>\r\n            <h4>Contact Details</h4>\r\n            <p>\r\n              <span v-if=\"contact[0] != 0\">Phone Number: {{ contact[0] }}</span>\r\n              <span v-else>Phone Number: -</span>\r\n              <br>\r\n              <span>Email: {{ email }}</span>\r\n            </p>\r\n            <h4>Websites</h4>\r\n            <ul class=\"list-unstyled\">\r\n              <li>\r\n                <b-icon-link variant=\"success\"></b-icon-link>\r\n                <a :href=\"socials.store_link\" target=\"_blank\" style=\"margin-left: 15px;\">{{ socials.store_link }}</a>\r\n              </li>\r\n              <li>\r\n                <img width=\"20px\" src=\"../assets/Insta-icon.png\">\r\n                <a :href=\"socials.facebook_link\" target=\"_blank\" style=\"margin-left: 10px;\">{{ socials.facebook_link }}</a>\r\n              </li>\r\n              <li>\r\n                <img width=\"20px\" src=\"../assets/FB-icon.png\">\r\n                <a :href=\"socials.instagram_link\" target=\"_blank\" style=\"margin-left: 10px;\">{{ socials.instagram_link }}</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </b-col>\r\n        <b-col md=\"6\">\r\n          <div class=\"details\">\r\n            <h2>Google Map</h2>\r\n            <div class=\"iframe-container\">\r\n              <iframe frameborder=\"0\" style=\"border:0\" :src=\"gMap\" allowfullscreen></iframe>\r\n            </div>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n      <div class=\"reviews\">\r\n        <h2>Ratings & Reviews</h2>\r\n        <transition name=\"fade\" mode=\"out-in\">\r\n        <div v-if=\"reviews.length > 0\" :key=\"1\">\r\n          <h4>{{ ratings }} / 5 stars\r\n            <b-form-rating width=\"40\" variant=\"success\" inline no-border readonly :value=\"ratings\" />\r\n          </h4>\r\n          <b-table responsive :items=\"reviews\"></b-table>\r\n        </div>\r\n        <div v-else style=\"text-align: center;\" :key=\"2\">\r\n          <h4>There are no Ratings & Reviews found for this restaurant.</h4>\r\n        </div>\r\n        </transition>\r\n      </div>\r\n      <Contribution />\r\n    </b-col>\r\n    <b-col md=\"2\" class=\"green\"></b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport Contribution from '@/components/Contribution.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Restaurant',\r\n  components: {\r\n    Contribution\r\n  },\r\n  data () {\r\n    return {\r\n      restaurant: [],\r\n      operation: Object,\r\n      contact: [],\r\n      email: '-',\r\n      tags: [],\r\n      socials: [],\r\n      reviews: [],\r\n      ratings: 0,\r\n      gMap: '',\r\n      getPlaceId: '',\r\n      place_id: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    axios\r\n      .get('https://wad2-hallallinone.et.r.appspot.com/restaurant/search/rid/' + this.$route.params.id)\r\n      .then(response => {\r\n        this.restaurant = response.data.Restaurant\r\n        this.restaurant = this.restaurant[0]\r\n      }).then(data => {\r\n        const tempArr = this.filterArray(this.restaurant.tags)\r\n        tempArr.forEach(element => {\r\n          this.tags.push(element.substring(1, element.length - 1))\r\n        })\r\n        this.contact = this.filterArray(this.restaurant.contact)\r\n        if (this.contact[1].length > 2) {\r\n          this.email = this.contact[1]\r\n        }\r\n        this.operation = this.restaurant.operation\r\n        var social = this.restaurant.social_media_links.replace(/'/g, '\"')\r\n        this.socials = JSON.parse(social)\r\n        this.gMap = 'https://www.google.com/maps/embed/v1/place?key=AIzaSyCY-JLzRXduQFdrflpjenGd_s58LilUrQU&q=' + this.restaurant.postal_code + '&zoom=18'\r\n        this.place_id = 'https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=' + this.restaurant.store_name + ' ' + this.restaurant.outlet + '&inputtype=textquery&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M&fields=place_id,formatted_address'\r\n        axios\r\n          .get('https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input=' + this.restaurant.store_name + ' ' + this.restaurant.outlet + '&inputtype=textquery&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M&fields=place_id,formatted_address')\r\n          .then(response => {\r\n            var result = response.data.candidates[0]\r\n            this.place_id = result.place_id\r\n            axios\r\n              .get('https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/details/json?place_id=' + this.place_id + '&fields=name,rating,reviews&key=AIzaSyDgKD27MEAeN4JgY7R_Kd4DnJbNUjZ_q2M')\r\n              .then(response => {\r\n                this.ratings = response.data.result.rating\r\n                var reviews = response.data.result.reviews\r\n                reviews.forEach(element => {\r\n                  var obj = {}\r\n                  obj = { Name: element.author_name, Rating: element.rating, Description: element.text, Time: element.relative_time_description }\r\n                  this.reviews.push(obj)\r\n                })\r\n              })\r\n          })\r\n      })\r\n  },\r\n  methods: {\r\n    filterArray: function (temp) {\r\n      temp = temp.substring(1, temp.length - 1)\r\n      temp = temp.split(', ')\r\n      return temp\r\n    },\r\n    storeImage () {\r\n      var img = ''\r\n      if (this.restaurant.store_name === '4Fingers') {\r\n        img = 'https://s3-ap-southeast-1.amazonaws.com/191-dev/wp-content/uploads/2020/07/16162146/4fingers.jpg'\r\n      } else if (this.restaurant.store_name === '18 Chefs') {\r\n        img = 'https://moderne.com.sg/wp-content/uploads/2016/12/18-chefs.jpg'\r\n      } else {\r\n        img = ''\r\n      }\r\n      return img\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}