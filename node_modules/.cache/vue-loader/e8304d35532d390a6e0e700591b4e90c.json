{"remainingRequest":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Admin.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\src\\views\\Admin.vue","mtime":1605292783162},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ashley Lau\\Documents\\GitHub\\halallinone\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYWRtaW57DQogIHRhYmxlew0KICAgIHRkew0KICAgICAgICBtYXgtd2lkdGg6MjAwcHg7DQogICAgICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDsNCiAgICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"admin\">\r\n        <b-tabs content-class=\"mt-3\" fill v-model=\"step\">\r\n            <!-- table of information from contribution -->\r\n            <b-tab title=\"Submitted Forms\" active>\r\n                <b-row style=\"margin-top:30px;\">\r\n                    <b-col class=\"table-responsive\">\r\n                        <b-table bordered :items=\"items\" :fields=\"fields\" :sticky-header=\"true\">\r\n                            <template #cell(config)=\"dt\">\r\n                              <button v-bind:value='dt.value[1]' v-on:click=\"editCForm(dt.value[1])\">{{ dt.value[0] }}</button>\r\n                            </template>\r\n                            <template #cell(tags)=\"data\">\r\n                                <ul>\r\n                                    <li v-for=\"tag of data.value\" :key=\"tag.name\">{{ tag }}</li>\r\n                                </ul>\r\n                            </template>\r\n                        </b-table>\r\n                    </b-col>\r\n                </b-row>\r\n            </b-tab>\r\n            <!-- admin's form -->\r\n            <b-tab title=\"Admin Form\">\r\n                <b-row>\r\n                    <b-col>\r\n                        <b-jumbotron>\r\n                            <h3 class=\"text-center\">Admin Form</h3>\r\n                            <!-- Input Form -->\r\n                            <b-form style=\"\">\r\n                                <b-form-group id=\"name-group\" label=\"Restaurant's Name\" label-for=\"name\">\r\n                                    <b-form-input id=\"name\" v-model=\"form.name\" v-bind:value=\"form.name\" required placeholder=\"Enter name (e.g. 4Fingers)\">\r\n                                    </b-form-input>\r\n                                </b-form-group>\r\n                                 <b-form-group id=\"name-group\" label=\"Description\" label-for=\"name\">\r\n                                    <b-form-input id=\"name\" v-model=\"form.description\" required placeholder=\"Description of restaurant\">\r\n                                    </b-form-input>\r\n                                </b-form-group>\r\n                                <b-form-group id=\"outlet-group\" label=\"Outlet Name\" label-for=\"outlet\">\r\n                                    <b-form-input id=\"outlet\" v-model=\"form.outlet\" v-bind:value=\"form.outlet\" required placeholder=\"Enter outlet (e.g Plaza Singapura)\">\r\n                                    </b-form-input>\r\n                                </b-form-group>\r\n                                <!-- Address Details -->\r\n                                <h6>Restaurant's Address</h6>\r\n                                <b-form-row>\r\n                                    <b-col>\r\n                                        <b-form-input id=\"blkStreet\" v-model=\"form.blkStreet\" v-bind:value=\"form.blkStreet\" required placeholder=\"Blk Street\"></b-form-input>\r\n                                    </b-col>\r\n                                    <b-col>\r\n                                        <b-form-input id=\"unitNum\" v-model=\"form.unitNum\" v-bind:value=\"form.unitNum\" required placeholder=\"Unit-Number\"></b-form-input>\r\n                                    </b-col>\r\n                                    <b-col>\r\n                                        <b-form-input id=\"postalCode\" v-model=\"form.postalCode\" v-bind:value=\"form.postalCode\" required placeholder=\"PostalCode\"></b-form-input>\r\n                                    </b-col>\r\n                                </b-form-row>\r\n                                <!-- Location Details -->\r\n                                <b-form-row>\r\n                                    <b-col>\r\n                                        <label label-for=\"region\">Region</label>\r\n                                        <b-form-select id=\"region\" v-model=\"form.region\" :selected=\"form.region\" :options=\"regions\" required>\r\n                                        <!-- This slot appears above the options from 'options' prop -->\r\n                                        <template v-slot:first>\r\n                                            <b-form-select-option :value=\"null\" disabled>-- Please select restaurant's region --\r\n                                            </b-form-select-option>\r\n                                        </template>\r\n                                        </b-form-select>\r\n                                    </b-col>\r\n                                    <b-col>\r\n                                        <label label-for=\"location\">Location</label>\r\n                                        <b-form-select id=\"location\" v-model=\"form.location\" :selected=\"form.location\" :options=\"locations\" required>\r\n                                        <!-- This slot appears above the options from 'options' prop -->\r\n                                        <template v-slot:first>\r\n                                            <b-form-select-option :value=\"null\" disabled>-- Please select restaurant's location --\r\n                                            </b-form-select-option>\r\n                                        </template>\r\n                                        </b-form-select>\r\n                                    </b-col>\r\n                                </b-form-row>\r\n                                <!-- Operating Hours -->\r\n                                <b-form-group id=\"operation-group\" label=\"Operating Hours\" label-for=\"operation\">\r\n                                    <b-form-input id=\"operation\" v-model=\"form.operation\" v-bind:value=\"form.operation\" type=\"text\" required\r\n                                        placeholder=\"Enter Operating Hours (e.g. Mon to Thurs, 9am - 9:30pm)\"></b-form-input>\r\n                                </b-form-group>\r\n                                <!-- Contact Details -->\r\n                                <b-form-row>\r\n                                    <b-col>\r\n                                        <label label-for=\"contact\">Contact Number</label>\r\n                                        <b-form-input id=\"contact\" v-model=\"form.contact\" v-bind:value=\"form.contact\" placeholder=\"91235678\"></b-form-input>\r\n                                    </b-col>\r\n                                    <b-col>\r\n                                        <label label-for=\"email\">Email</label>\r\n                                        <b-form-input id=\"email\" v-model=\"form.email\" v-bind:value=\"form.email\" type=\"text\" placeholder=\"info@name.com\"></b-form-input>\r\n                                    </b-col>\r\n                                </b-form-row>\r\n                                <!-- Tags -->\r\n                                <b-form-row>\r\n                                    <b-col>\r\n                                        <label class=\"typo__label\">Tags</label>\r\n                                        <multiselect v-model=\"form.tags\" placeholder=\"Add cuisine and attributes tag\" label=\"name\" track-by=\"value\"\r\n                                        :searchable=\"false\" :options=\"cuisine\" :multiple=\"true\" :taggable=\"true\" @tag=\"addTag\">\r\n                                        </multiselect>\r\n                                    </b-col>\r\n                                </b-form-row>\r\n                                <!-- Social Media Link -->\r\n                                <b-form-group id=\"social-group\" label=\"Social Media Links\" label-for=\"social\">\r\n                                  <b-form-input id=\"social\" v-model=\"form.social_media_links\" v-bind:value=\"form.social_media_links\" placeholder=\"social Media Link\"></b-form-input>\r\n                                </b-form-group>\r\n                                <!-- Image Files -->\r\n                                <b-form-group id=\"photo-group\" label=\"Restaurant Image & Menu\" label-for=\"photos\">\r\n                                  <b-form-file id=\"photos\" v-model=\"form.photoFile\" multiple accept=\".jpg, .png, .gif\"></b-form-file>\r\n                                </b-form-group>\r\n                                <!-- Remarks -->\r\n                                <b-form-group id=\"remarks-group\" label=\"Remarks\" label-for=\"remarks\">\r\n                                  <b-form-textarea id=\"remarks\" v-model=\"form.remarks\" v-bind:value=\"form.remarks\" placeholder=\"Enter any additional information\"></b-form-textarea>\r\n                                </b-form-group>\r\n                                <b-button variant=\"danger\" @click=\"editForm\" v-if=\"edit\">Confirm Submit?</b-button>\r\n                                <b-button variant=\"success\" @click=\"submitForm\" v-else>Submit</b-button>\r\n                            </b-form>\r\n                        </b-jumbotron>\r\n                    </b-col>\r\n                </b-row>\r\n            </b-tab>\r\n        </b-tabs>\r\n    </div>\r\n</template>\r\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\r\n<script>\r\nimport Multiselect from 'vue-multiselect'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Contribute',\r\n  components: {\r\n    Multiselect\r\n  },\r\n  data () {\r\n    return {\r\n      fields: [{ key: 'config', label: 'Configure' }, { key: 'cid', label: 'cid' }, 'name', 'outlet', 'address', 'unitNumber', 'postalCode', 'region', 'location', 'operation', 'contact/Email', 'social_media_links', { key: 'tags', label: 'Tags' }, 'photoFile', 'remarks'],\r\n      items: [],\r\n      form: {\r\n        config: null,\r\n        cid: '',\r\n        name: '',\r\n        description: '',\r\n        outlet: '',\r\n        operation: '',\r\n        blkStreet: '',\r\n        unitNum: '',\r\n        postalCode: '',\r\n        contactEmail: [],\r\n        contact: null,\r\n        email: '',\r\n        social_media_links: '',\r\n        remarks: '',\r\n        region: null,\r\n        location: null,\r\n        tags: [],\r\n        photoFile: null\r\n      },\r\n      cuisine: [\r\n        { name: 'Chinese', value: 'Chinese' },\r\n        { name: 'French', value: 'French' },\r\n        { name: 'Indian', value: 'Indian' },\r\n        { name: 'Indonesian', value: 'Indonesian' },\r\n        { name: 'Italian', value: 'Italian' },\r\n        { name: 'Japanese', value: 'Japanese' },\r\n        { name: 'Korean', value: 'Korean' },\r\n        { name: 'Malay', value: 'Malay' },\r\n        { name: 'Mexican', value: 'Mexican' },\r\n        { name: 'Thai', value: 'Thai' },\r\n        { name: 'Turkish', value: 'Turkish' },\r\n        { name: 'Vietnamese', value: 'Vietnamese' },\r\n        { name: 'Western', value: 'Western' }\r\n      ],\r\n      locations: [{ text: 'Bedok', value: 'bedok' }, { text: 'Tampines', value: 'tampines' }, { text: 'Pasir Ris', value: 'pasir-ris' }],\r\n      regions: [\r\n        { text: 'North', value: 'north' },\r\n        { text: 'North-East', value: 'north-east' },\r\n        { text: 'South', value: 'south' },\r\n        { text: 'East', value: 'east' },\r\n        { text: 'West', value: 'west' }\r\n      ],\r\n      edit: true,\r\n      editButton: null,\r\n      getCid: null,\r\n      count: null,\r\n      step: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    axios\r\n      .get('https://wad2-hallallinone.et.r.appspot.com/contribution')\r\n      .then((response) => {\r\n        this.restaurant = response.data.Contribution\r\n        for (var i in this.restaurant) {\r\n          var item = this.restaurant[i]\r\n          this.editButton = 'Edit'\r\n          // item.contact = item.contact.replace(/'/g, '\"')\r\n          // var s = JSON.parse(item.contact)\r\n          if (item.verification_status === 'Pending') {\r\n            this.count = item.cid\r\n            this.items.push({\r\n              config: [this.editButton, item.cid],\r\n              cid: item.cid,\r\n              name: item.store_name,\r\n              outlet: item.outlet,\r\n              address: item.address,\r\n              unitNumber: item.unit_number,\r\n              postalCode: item.postal_code,\r\n              region: item.region,\r\n              location: item.location,\r\n              operation: item.operation,\r\n              'contact/Email': item.contact,\r\n              social_media_links: item.social_media_links,\r\n              tags: item.tags.slice(1, item.tags.length - 1).split(','),\r\n              photoFile: item.image_links,\r\n              remarks: item.remarks\r\n            })\r\n          }\r\n        }\r\n        this.success = true\r\n      })\r\n  },\r\n  methods: {\r\n    // onSubmit (evt) {\r\n    //   evt.preventDefault()\r\n    //   alert(JSON.stringify(this.form))\r\n    // },\r\n    // onReset (evt) {\r\n    //   evt.preventDefault()\r\n    //   // Reset our form values\r\n    //   this.form.name = ''\r\n    //   this.form.outlet = ''\r\n    //   this.form.operation = ''\r\n    //   this.form.blkStreet = ''\r\n    //   this.form.unitNum = ''\r\n    //   this.form.postalCode = ''\r\n    //   this.form.contact = ''\r\n    //   this.form.email = ''\r\n    //   this.form.region = null\r\n    //   this.form.location = null\r\n    //   this.form.tags = []\r\n    //   // Trick to reset/clear native browser form validation state\r\n    //   this.show = false\r\n    //   this.$nextTick(() => {\r\n    //     this.show = true\r\n    //   })\r\n    // },\r\n    filterArray: function (temp) {\r\n      temp = temp.substring(1, temp.length - 1)\r\n      temp = temp.split(', ')\r\n      return temp\r\n    },\r\n    addTag (newTag) {\r\n      const tag = {\r\n        name: newTag,\r\n        value: newTag.substring(0, 2) + Math.floor((Math.random() * 10000000))\r\n      }\r\n      this.tags.push(tag)\r\n    },\r\n    editCForm (id) {\r\n      axios.get('https://wad2-hallallinone.et.r.appspot.com/contribution/get/cid=' + id)\r\n        .then((response) => {\r\n          console.log(response.data[0].operation)\r\n          this.contactEmail = this.filterArray(response.data[0].contact)\r\n          this.form.name = response.data[0].store_name\r\n          this.form.outlet = response.data[0].outlet\r\n          this.form.blkStreet = response.data[0].address\r\n          this.form.unitNum = response.data[0].unit_number\r\n          this.form.postalCode = response.data[0].postal_code\r\n          this.form.contact = this.contactEmail[0]\r\n          this.form.email = this.contactEmail[1]\r\n          this.form.social_media_links = response.data[0].social_media_links\r\n          this.form.remarks = response.data[0].remarks\r\n          this.form.region = response.data[0].region\r\n          this.form.location = response.data[0].location\r\n          this.form.operation = response.data[0].operation\r\n          // this.form.tags = response.data[0].tags\r\n          this.form.photoFile = response.data[0].image_links\r\n        })\r\n      this.step = 1\r\n    },\r\n    editForm () {\r\n      this.edit = false\r\n    },\r\n    submitForm () {\r\n      // var operationSplit = this.form.operation.split(', ')\r\n      // this.edit = true\r\n      const auth = {\r\n        store_name: this.form.name,\r\n        description: this.form.description,\r\n        tags: this.form.tags,\r\n        region: this.role,\r\n        location: this.form.location,\r\n        outlet: this.form.outlet,\r\n        address: this.form.blkStreet,\r\n        unit_number: this.form.unitNum,\r\n        postal_code: this.form.postalCode,\r\n        contact: '[\"' + this.form.contact + '\", \"' + this.form.email + '\"]',\r\n        image_links: '{ store: \"' + this.form.photoFile[0].name + '\", menu: \"\" }',\r\n        social_media_links: this.form.social_media_links,\r\n        operation: this.form.operation\r\n      }\r\n      const url = 'https://wad2-hallallinone.et.r.appspot.com/restaurant/add'\r\n      axios.post(url, auth).then((response) => {\r\n        console.log(response.status)\r\n        // if (response.status === 201) {\r\n        //   // this.$router.push('/admin')\r\n        //   console.log('')\r\n        // }\r\n      }, function (err) {\r\n        console.log('err', err)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.admin{\r\n  table{\r\n    td{\r\n        max-width:200px;\r\n        word-wrap: break-word;\r\n      }\r\n  }\r\n}\r\n</style>\r\n"]}]}